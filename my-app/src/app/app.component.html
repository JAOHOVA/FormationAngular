<app-menu></app-menu>

<form class="container form" #form="ngForm">
  <div class="form-group">
    <input #name="ngModel" class="form-control" [(ngModel)]="newItem.name" placeholder="Name" name="name" required minlength="2">
    <div [hidden]="name.valid || name.pristine || !newItem.name" class="alert alert-danger" role="alert">Champ recquis</div>
  </div>
  <div class="form-group">
    <input #ref="ngModel" class="form-control" [(ngModel)]="newItem.reference" placeholder="Référence" name="reference" required minlength="4">
    <div [hidden]="ref.valid || ref.pristine || !newItem.reference" class="alert alert-danger" role="alert">Champ recquis</div>
  </div>
  <div class="form-group">
    <select class="form-control" [(ngModel)]="newItem.state" name="state" required>
      <option [ngValue]="0">A livrer</option>
      <option [ngValue]="1">En cours de livraison</option>
      <option [ngValue]="2">Commande livrée</option>
    </select>
  </div>
  <div class="form-group">
    <button [disabled]="form.invalid" type="submit" class="btn btn-primary" (click)="addItem()">Ajouter</button>
  </div>
</form>


<div class="container cards" *ngFor="let item of collection">

  <div class="card">
    <h4 class="card-header state-0" *ngIf="0 === item.state">A livrer</h4>
    <h4 class="card-header state-1" *ngIf="1 === item.state">En cours de livraison</h4>
    <h4 class="card-header state-2" *ngIf="2 === item.state">Commande livrée</h4>
    <div class="card-body">
      <h4 class="card-title">{{ item.name }}</h4>
      <p class="card-text">référence : {{ item.reference }}</p>
      <a href="#" class="btn btn-primary">Go somewhere</a>
    </div>
  </div>

</div>
